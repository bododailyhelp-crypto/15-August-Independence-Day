<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§¶‡§ø‡§µ‡§∏ ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Teko:wght@400;700&display=swap');

    :root {
      --saffron: #FF9933;
      --white: #FFFFFF;
      --green: #138808;
      --bg1: #24243e;
      --bg2: #302b63;
      --bg3: #0f0c29;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Teko', sans-serif;
      background: linear-gradient(to right, var(--bg1), var(--bg2), var(--bg3));
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
      color: var(--white);
    }

    #fireworks-canvas {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }

    .container {
      position: relative;
      z-index: 2;
      background-color: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
      text-align: center;
      max-width: 500px;
      width: 100%;
    }

    #wishingImage {
      max-width: 80%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 20px;
      animation: floatImage 4s ease-in-out infinite;
    }

    #greetingSection h1 {
      font-size: 2.8rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin: 0;
      animation: textGlow 1.5s infinite alternate;
    }

    #greetingSection h1 span {
      color: var(--saffron);
      display: block;
      font-size: 2rem;
    }

    #greetingSection p {
      font-size: 1.5rem;
      color: var(--green);
      font-weight: bold;
      text-shadow: 0 0 5px var(--white);
      margin: 6px 0 0;
    }

    #createWishSection {
      margin-top: 25px;
    }

    #createWishSection h2 {
      font-size: 2rem;
      margin-bottom: 15px;
    }

    #yourName {
      width: 80%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 1.2rem;
      font-family: 'Teko', sans-serif;
      background-color: rgba(255, 255, 255, 0.85);
      color: #333;
      outline: none;
    }

    .input-wrapper {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    #feedback {
      color: #ffe082;
      font-size: 0.9rem;
      min-height: 1.2em;
    }

    .share-row {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    #whatsappShareBtn {
      width: 75%;
      padding: 10px 14px;
      background-color: #25D366;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.3rem;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.2s, background-color 0.2s;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    #whatsappShareBtn:hover {
      background-color: #1EBE57;
      transform: scale(1.05);
    }

    #whatsappShareBtn svg {
      width: 26px;
      height: 26px;
      margin-right: 10px;
      flex-shrink: 0;
    }

    .ad-container {
      margin-top: 20px;
      position: relative;
      z-index: 10;
      width: 100%;
      max-width: 468px;
      min-height: 60px;
      background: rgba(255,255,255,0.08);
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 0.8rem;
    }

    #audioFallback {
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    #playAudioBtn {
      background: rgba(255,255,255,0.15);
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      color: white;
      font-weight: bold;
    }

    @keyframes floatImage {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
      100% { transform: translateY(0px); }
    }

    @keyframes textGlow {
      from {
        text-shadow: 0 0 10px var(--white), 0 0 20px var(--white), 0 0 30px var(--green);
      }
      to {
        text-shadow: 0 0 20px var(--white), 0 0 30px var(--saffron), 0 0 40px var(--saffron);
      }
    }

    @media (max-width: 600px) {
      #greetingSection h1 { font-size: 2.2rem; }
      #greetingSection h1 span { font-size: 1.6rem; }
      #greetingSection p { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <canvas id="fireworks-canvas"></canvas>

  <div class="container" aria-label="‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§¶‡§ø‡§µ‡§∏ ‡§µ‡§ø‡§∂ ‡§î‡§∞ ‡§∏‡§æ‡§ù‡§æ ‡§™‡•á‡§ú">
    <img id="wishingImage" src="15 august independence day.png" alt="‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§¶‡§ø‡§µ‡§∏ ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ" />
    <div id="greetingSection" aria-live="polite"></div>

    <div id="createWishSection">
      <h2>BHARAT MATA KI JAY Share Karo</h2>
      <div class="input-wrapper">
        <input aria-label="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç" type="text" id="yourName" placeholder="Enter Your Name" />
        <div id="feedback" role="alert" aria-atomic="true"></div>
      </div>
      <div class="share-row">
        <button id="whatsappShareBtn" aria-label="‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§™‡§∞ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç">
          <svg viewBox="0 0 24 24" fill="white" aria-hidden="true">
            <path d="M16.75,13.96C17,14.26 17.11,14.85 16.96,15.54C16.82,16.23 15.82,16.82 15.06,17C14.31,17.17 13.35,16.96 12.33,16.5C10.97,15.91 9.94,15.04 9.06,14.16C8.18,13.28 7.3,12.25 6.74,10.89C6.18,9.53 6,8.57 6.17,7.82C6.34,7.07 6.93,6.07 7.23,5.82C7.53,5.57 7.92,5.54 8.22,5.54C8.52,5.54 8.76,5.54 8.97,5.78C9.18,6.02 9.45,6.56 9.59,6.78C9.73,7 9.77,7.14 9.67,7.38C9.57,7.62 9.43,7.8 9.24,8C9.05,8.2 8.91,8.34 9.05,8.61C9.19,8.88 9.63,9.66 10.42,10.45C11.21,11.24 11.99,11.68 12.26,11.82C12.53,11.96 12.67,11.91 12.86,11.72C13.05,11.53 13.24,11.29 13.48,11.15C13.72,11.01 13.86,11.05 14.1,11.15C14.34,11.25 15.3,11.74 15.52,11.88C15.74,12.02 15.88,12.09 15.93,12.23C15.98,12.37 15.93,12.61 15.73,12.81C15.53,13.01 15.24,13.25 14.88,13.61C14.52,13.97 14.28,14.21 14.42,14.51C14.56,14.81 15.06,15.2 15.2,15.34C15.34,15.48 16.5,13.7 16.75,13.96M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z"></path>
          </svg>
          Share Karo 
        </button>
      </div>
    </div>
  </div>

  <div class="ad-container">
    Advertisement Loading...
    <script type="text/javascript">
      atOptions = {
        key: 'ba14d666034f2d955047d2778ac2015a',
        format: 'iframe',
        height: 60,
        width: 468,
        params: {}
      };
    </script>
    <script type="text/javascript" src="https://www.highperformanceformat.com/ba14d666034f2d955047d2778ac2015a/invoke.js"></script>
  </div>

  <div id="audioFallback" aria-label="‡§Æ‡•ç‡§Ø‡•Ç‡§ú‡§ø‡§ï ‡§ï‡§Ç‡§ü‡•ç‡§∞‡•ã‡§≤">
    <audio id="bgAudio" loop>
      <source src="https://www.learningcontainer.com/wp-content/uploads/2020/02/Kalimba.mp3" type="audio/mpeg" />
    </audio>
    <div id="audioNotice" style="font-size:0.9rem; color:rgba(255,255,255,0.85);">
      ‡§Ö‡§ó‡§∞ ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§∏‡•ç‡§µ‡§§‡§É ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§≤‡§æ, ‡§§‡•ã ‡§®‡•Ä‡§ö‡•á ‡§¶‡§¨‡§æ‡§è‡§Å:
    </div>
    <button id="playAudioBtn" aria-label="‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§ö‡§≤‡§æ‡§è‡§Å">üéµ ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§ö‡§≤‡§æ‡§è‡§Å</button>
  </div>

  <noscript>
    <div style="position:fixed; inset:0; background:#000a; display:flex; align-items:center; justify-content:center; color:white; padding:20px; z-index:99;">
      JavaScript ‡§¨‡§Ç‡§¶ ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ JavaScript ‡§∏‡§ï‡•ç‡§∑‡§Æ ‡§ï‡§∞‡•á‡§Ç‡•§
    </div>
  </noscript>

  <script>
    // === Fireworks with pause on hidden tab ===
    const canvas = document.getElementById('fireworks-canvas');
    const ctx = canvas.getContext('2d');
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    let particles = [];
    let fireworks = [];
    let animationActive = true;

    function Firework(x, y, color) {
      this.x = x;
      this.y = y;
      this.color = color;
      this.vel = { x: 0, y: Math.random() * -3 - 8 };
      this.done = false;
      this.update = function () {
        this.y += this.vel.y;
        if (this.y < Math.random() * 200 + 50) {
          this.done = true;
          for (let i = 0; i < 50; i++) {
            particles.push(new Particle(this.x, this.y, this.color));
          }
        }
      };
      this.draw = function () {
        ctx.beginPath();
        ctx.fillStyle = this.color;
        ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
        ctx.fill();
      };
    }

    function Particle(x, y, color) {
      this.x = x;
      this.y = y;
      this.color = color;
      this.vel = {
        x: (Math.random() - 0.5) * 10,
        y: (Math.random() - 0.5) * 10
      };
      this.alpha = 1;
      this.update = function () {
        this.x += this.vel.x;
        this.y += this.vel.y;
        this.alpha -= 0.02;
      };
      this.draw = function () {
        ctx.globalAlpha = this.alpha;
        ctx.beginPath();
        ctx.fillStyle = this.color;
        ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1;
      };
    }

    function animate() {
      if (!animationActive) {
        requestAnimationFrame(animate);
        return;
      }
      ctx.fillStyle = 'rgba(0,0,0,0.1)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      if (Math.random() < 0.12) {
        const colors = ['#FF9933', '#FFFFFF', '#138808'];
        const randomColor = colors[Math.floor(Math.random() * colors.length)];
        fireworks.push(new Firework(Math.random() * canvas.width, canvas.height, randomColor));
      }
      fireworks = fireworks.filter(f => !f.done);
      fireworks.forEach(f => {
        f.update();
        f.draw();
      });
      particles = particles.filter(p => p.alpha > 0);
      particles.forEach(p => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(animate);
    }
    animate();

    document.addEventListener('visibilitychange', () => {
      animationActive = !document.hidden;
    });

    // === Greeting / URL param ===
    window.addEventListener('DOMContentLoaded', () => {
      const url = new URL(window.location);
      const nameFromUrl = url.searchParams.get('from');
      const greetingSection = document.getElementById('greetingSection');
      if (nameFromUrl) {
        const senderName = decodeURIComponent(nameFromUrl);
        greetingSection.innerHTML = `<h1><span id="senderName">${senderName} On Behalf Of" / "From"</span>15 August</h1><p>Independence Day</p>`;
      } else {
        greetingSection.innerHTML = `<h1>15 August</h1><p>Independence Day</p>`;
      }
    });

    // === Share logic ===
    const whatsappBtn = document.getElementById('whatsappShareBtn');
    const feedbackEl = document.getElementById('feedback');

    function buildShareUrl(nameInput) {
      const url = new URL(window.location);
      url.searchParams.set('from', encodeURIComponent(nameInput));
      return url.toString();
    }

    whatsappBtn.addEventListener('click', async () => {
      const nameInput = document.getElementById('yourName').value.trim();
      feedbackEl.textContent = '';
      if (nameInput === '') {
        feedbackEl.textContent = 'Please Enter Your Name';
        return;
      }
      const newUrl = buildShareUrl(nameInput);
      const shareText = `${nameInput} Has Sent You Independence Day Greetings!  Click To View:`;
      if (navigator.share) {
        try {
          await navigator.share({
            title: '‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§¶‡§ø‡§µ‡§∏ ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å!',
            text: shareText,
            url: newUrl
          });
        } catch (err) {
          console.log('User cancelled share:', err?.message || err);
        }
      } else {
        const fullMessage = encodeURIComponent(`${shareText} ${newUrl}`);
        const whatsappUrl = `https://wa.me/?text=${fullMessage}`;
        window.open(whatsappUrl, '_blank', 'noopener');
      }
    });

    // === Audio fallback ===
    const audio = document.getElementById('bgAudio');
    const playBtn = document.getElementById('playAudioBtn');
    const audioNotice = document.getElementById('audioNotice');

    function tryPlayAudio() {
      audio.play().catch(() => {
        audioNotice.textContent = '‡§∏‡•ç‡§µ‡§§‡§É ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§≤ ‡§™‡§æ‡§Ø‡§æ‡•§ ‡§®‡•Ä‡§ö‡•á ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç:';
      });
    }

    window.addEventListener('load', () => {
      tryPlayAudio();
    });

    playBtn.addEventListener('click', () => {
      audio.play();
    });
  </script>
</body>
</html>